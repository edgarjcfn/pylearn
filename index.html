<html> 
<head> 
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script> 

  <script src="mygame/command-chain.js" type="text/javascript"></script>
  <script src="mygame/character.js" type="text/javascript"></script>
  <script src="mygame/commands.js" type="text/javascript"></script>

  <script src="skulpt/skulpt.min.js" type="text/javascript"></script> 
  <script src="skulpt/skulpt-stdlib.js" type="text/javascript"></script> 
  <script src="wade/wade_1.4.2.js" type="text/javascript"></script>



  <link rel="stylesheet" type="text/css" href="wade/style.css" />

</head> 

<body> 

  <script id="wade" type="text/javascript">
  $(document).ready(function()
  {
    wade.init('mygame/main.js');
  });
  </script>

  <script id="skulpt" type="text/javascript"> 
// output functions are configurable.  This one just appends some text
// to a pre element.
function outf(text) { 
  var mypre = document.getElementById("output"); 
  mypre.innerHTML = mypre.innerHTML + text; 
} 
function builtinRead(x) {
  if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
    throw "File not found: '" + x + "'";
  return Sk.builtinFiles["files"][x];
}

// Here's everything you need to run a python program in skulpt
// grab the code from your textarea
// get a reference to your pre element for output
// configure the output function
// call Sk.importMainWithBody()
function runit() { 
 var prog = document.getElementById("yourcode").value; 
 var mypre = document.getElementById("output"); 
 mypre.innerHTML = ''; 

 Sk.externalLibraries = {
  mygame : {
    path : 'mygame/__init__.js',
    dependencies : []
  },
};
Sk.animator = wade.app;
Sk.commandChain = new CommandChain();
Sk.pre = "output";
Sk.configure({output:outf, read:builtinRead});

try {
  eval(Sk.importMainWithBody("<stdin>",false,prog));
  Sk.commandChain.execute();
}
catch(e) {
 alert(e.toString())
}
} 
</script> 

<h3>Try This</h3> 
<form> 
  <textarea id="yourcode" cols="40" rows="10">import mygame

char = mygame.Character();
char.moveForward(3);
char.turnLeft();
char.moveForward(5);
char.turnLeft();
char.moveForward(7);
char.turnLeft();
char.moveForward(9);
  </textarea><br /> 
  <button type="button" onclick="runit()">Run</button> 
</form> 
<pre id="output" ></pre> 
<!-- If you want turtle graphics include a canvas -->
<div id="container" style="border:0; width:800px; height:600px;">
    <div id="wade_main_div" width="800" height="600" tabindex="1">
    </div>
</div>

</body> 

</html> 